<% provide(:title, 'Create event') %>

<div class="container">

  <div class="center">
    <h1>Create event</h1>
  </div>

  <div class="row">
    <div class="col-md-6 col-md-offset-3">
      <%= form_for(@event, url: newevent_path) do |f| %>

        <%= render 'shared/error_messages', errors: @event.errors %>

        <%= f.label :name %>
        <%= f.text_field :name, class: 'form-control' %>

        <%= f.label :description %>
        <%= f.text_area :description, class: 'form-control' %>

        <%= f.label :start_date %>
        <%= f.date_field :start_date, class: 'form-control' %>

        <%= f.label :end_date %>
        <%= f.date_field :end_date, class: 'form-control' %>

        <%= f.label :capacity %>
        <%= f.text_field :capacity, class: 'form-control' %>

        <%= f.label :is_filter %>
        <%= f.check_box :is_filter, class: 'form-control', id: 'toggler' %>

        <div id="toggle" style="display: none;">
          <%= f.label :from_birth_date %>
          <%= f.date_field :from_birth_date, class: 'form-control' %>

          <%= label_tag "Permit genders:" %>
          <%= label_tag "Male" %>
          <%= check_box_tag "permit_gender[]", 0, { checked: true } %>
          <%= label_tag "Female" %>
          <%= check_box_tag "permit_gender[]", 1, { checked: true } %>

        </div>

        <%= f.submit "Create event", class: "btn btn-primary" %>
      <% end %>
    </div>
  </div>

</div>

<script>
  $("input#toggler").change(function(obj){
      if($("input#toggler").is(":checked"))
      {
          $("div#toggle").css('display', 'block');
      }
      else
      {
          $("div#toggle").css('display', 'none');
      }
  });
</script>